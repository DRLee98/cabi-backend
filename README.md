# Project Cabi Back-end

## 프로젝트 소개

> 인터넛 강의를 들으며 공부하던 중 배운 것을 숙달할 만한 무언가가 없을까 고민하던 때에 카페를 비교하는 웹을 만들어보면 어떻겠냐는 친구의 아이디어로 시작하게 되었습니다.
>
> 이 프로젝트는 까비 프로젝트의 백엔드 부분이며 NestJS를 베이스로 DB로는 PostgreSQL이 사용되었습니다.

### 사용 기술

- NestJS, TypeScript, PostgreSQL, TypeORM, GraphQL, AWS S3

---

## **유저 기능**

---

- 생성 :
  이메일, 이름, 비밀번호, 주소, 유저 타입(고객님, 사장님)을 필수로 입력하고 필요에 따라 프로필 이미지를 추가하여 계정을 생성합니다.

- 수정 : 이메일, 이름, 비밀번호, 주소, 프로필 이미지를 수정할 수 있습니다.

- 삭제 : 계정을 삭제할 수 있습니다.
- 조회 : 유저의 프로필을 조회할 수 있습니다.

---

## **카페 기능**

---

- 생성 : 이름, 설명, 주소를 필수로 입력하고 필요에 따라 커버 이미지, 키워드를 추가하여 카페를 생성합니다.

- 수정 : 이름, 설명, 주소, 커버 이미지, 키워드를 수정할 수 있습니다.

- 삭제 : 자신이 만든 카페를 삭제할 수 있습니다.
- 조회
  - 카페의 상세 내용을 조회할 수 있습니다.
  - 카페들을 순위별로 조회할 수 있습니다.
  - 카페 이름을 검색을 하여 조건에 맞는 카페들을 조회할 수 있습니다.
  - 키워드를 이용하여 조건에 맞는 카페들을 조회할 수 있습니다.
  - 경도와 위도를 이용하여 조건에 맞는 카페들을 조회할 수 있습니다.

---

## **메뉴 기능**

---

- 생성 : 자신이 만든 카페에 한해서 이름, 설명, 가격, 카테고리를 필수로 입력하고 필요에 따라 메뉴 이미지, 영양성분, 추가 옵션을 추가하여 메뉴를 생성합니다.

- 수정 : 자신이 만든 카페에 한해서 이름, 설명, 가격, 카테고리, 메뉴 이미지, 영양성분, 추가 옵션을 수정할 수 있습니다.

- 삭제 : 자신이 만든 카페의 메뉴를 삭제할 수 있습니다.
- 조회 : 메뉴의 상세 내용을 조회할 수 있습니다.

---

## **댓글 기능**

---

- 생성
  - 고객에 한해서 카페 혹은 메뉴에 대한 댓글을 작성하며 내용, **평점**을 입력할 수 있습니다.
  - 평점에 따라 카페의 순위가 집계되며 평점의 합계는 매시 정각에 합산됩니다.
- 조회 : 카페 혹은 메뉴에 작성된 댓글을 조회할 수 있습니다.

---

## **답글 기능**

---

- 생성 : 답글은 고객, 사장에 상관없이 누구나 작성할 수 있으며 내용만을 입력할 수 있습니다.
- 조회 : 작성된 댓글에 대한 답글을 조회할 수 있습니다.

---

## **수다방 기능**

---

- 생성
  - 수다방은 고객, 사장에 상관없이 누구나 생성 가능하며 생성 시 비밀방 설정을 할 수 있습니다.
  - 비밀방 설정 시 비밀번호를 필수로 입력해야 하며 변경은 불가능합니다.
- 조회 : 생성된 수다방들을 조회할 수 있습니다.

- 채팅 : 수다방에 입장한 후에 실시간으로 채팅이 가능합니다.
